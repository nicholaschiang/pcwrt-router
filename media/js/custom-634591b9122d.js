function request_pause(t,e,s){$.ajax({url:t,type:"POST",data:e,success:function(t){if("function"!=typeof s){var e=null==t.profile?$("#internet-pause-alert"):$("#profiles .panel:eq("+(parseInt(t.profile)-1)+")");if("paused"==t.status)null!=t.profile?($(".profile-pause-alert",e).find("span:first").text(t.message).end().slideDown(),$(".panel-heading",e).addClass("warning")):e.find("span:first").text(t.message).end().slideDown();else if("active"==t.status)if(null!=t.profile){var a=parseInt(t.profile)-1,n=!0;$.each(fv.profiles[a].calendars,function(t,e){if("paused"==e.status)return n=!1}),$(".profile-pause-alert",e).slideUp(),n&&$(".panel-heading",e).removeClass("warning")}else e.slideUp();else"deleted"==t.status||("login"==t.status?location.reload(!0):($("#status-modal .modal-title").text(window.msgs.oops),$("#status-modal .modal-body p").text("This is unexpected! Can you reconnect and try again?"),$("#status-modal").modal("show")))}else s(t)},error:function(t,e,a){$("#status-modal .modal-title").text(window.msgs.oops),$("#status-modal .modal-body p").text(a||"Unknown error!"),$("#status-modal").modal("show")}})}function get_pause_state(){$.ajax({url:$("#pause").data("url"),success:function(s){if("paused"==s.status?$("#internet-pause-alert").find("span:first").text(s.message).end().slideDown():"active"==s.status&&$("#internet-pause-alert").slideUp(),$("#profiles").is(":visible")){for(p in s.profiles)$alt=$("#profiles .panel:eq("+(parseInt(p)-1)+")"),"paused"==s.profiles[p].status?($(".profile-pause-alert",$alt).find("span:first").text(s.profiles[p].message).end().slideDown(),$(".panel-heading",$alt).addClass("warning")):($(".profile-pause-alert",$alt).slideUp(),$(".panel-heading",$alt).removeClass("warning"));$.each(window.fv.profiles,function(n,t){$.each(t.calendars,function(t,e){if("number"==typeof e.id){var a=s.calendars[e.id.toString()];a&&(e.status=a.status,e.message=a.message,"paused"==e.status&&($("#profiles .panel:eq("+n+") .panel-heading").addClass("warning"),$("#profiles .panel:eq("+n+") .control-label.calendar").addClass("paused")))}})})}$("#wireless-settings").is(":visible")&&(s.wireless&&"paused"==s.wireless.status?$("#extend-time-alert").data("extended",!0).find("span").text(s.wireless.message):$("#extend-time-alert").hide())}})}function escapeXml(t){return t.replace(/[<>&'"]/g,function(t){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}function is_ip_on_network(t,e,a,n){if("string"!=typeof t||!e||!a)return!1;if(n&&t==e)return!1;t=t.split(".");var s=e.split("."),i=a.split(".");return 4==t.length&&4==s.length&&4==i.length&&((t[0]&i[0])==(s[0]&i[0])&&(t[1]&i[1])==(s[1]&i[1])&&(t[2]&i[2])==(s[2]&i[2])&&(t[3]&i[3])==(s[3]&i[3]))}function random_string(t,e,a){a=parseInt(a),isNaN(a)&&(a=0);for(var n=t.split(""),s="",i=0;i<e;i++)0<a&&0<i&&i%a==0&&(s+="-"),s+=n[Math.floor(Math.random()*n.length)];return s}!function(p){Date.prototype.stdTimezoneOffset=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},Date.prototype.hasDst=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return t.getTimezoneOffset()!=e.getTimezoneOffset()},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()},p(document).on("change",".btn-file :file",function(){var t=p(this),e=t.get(0).files?t.get(0).files.length:1,a=t.val().replace(/\\/g,"/").replace(/.*\//,"");t.trigger("fileselect",[e,a])}),p.fn.startRotate=function(n){return this.each(function(){function a(e,t){return void 0===t?t=p({deg:0}):t.get(0).deg=0,t.animate({deg:360},{duration:2500,easing:"linear",step:function(t){n||(t=-t),e.css({transform:"rotate("+t+"deg)"})},complete:function(){e.data("_stop_rotation_")||a(e,t)}})}p(this).data("_stop_rotation_",null),a(p(this))})},p.fn.stopRotate=function(){return this.each(function(){p(this).data("_stop_rotation_",!0)})},p.fn.makecombo=function(){return this.each(function(){if(!p(this).data("makecombo")){var n=p(this),t=p(this).data("editable"),s=p('<input type="text">');s.attr("class",p(this).attr("class")),s.attr("name",p(this).attr("name")),p(this).attr("id")&&(s.attr("id",p(this).attr("id")),p(this).attr("id",p(this).attr("id")+"-no-longer-used")),1==t?(s.attr("tabindex",p(this).attr("tabindex")),p(this).prop("disabled",!0)):(s.attr("tabindex","-1"),s.prop("disabled",!0),s.addClass("combo-facade"));var e=p('<div class="input-group-btn">');e.append('<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>');for(var a=p('<ul class="dropdown-menu pull-right">'),i=0;i<p(this).children().length;i++){var o=p(p(this).children()[i]);if(o.is("option")){if(!o.prop("disabled")){var r=p('<li><a href="#">'+o.text()+"</a></li>");r.data("idx",i),a.append(r)}}else o.is("optgroup")&&a.append('<li class="divider"></li>')}e.append(a);var l=p('<div class="control-group input-group combo-group">');l.append(s),l.append(e),p(this).after(l),p(this).data("idx",-1),p(this).val()?s.val(p(this).val()):s.val(p("option:first",p(this)).attr("value"));var d=jQuery._data(this,"events");d&&p.each(d,function(a,t){p.each(t,function(t,e){s.on(a,e.handler)})}),a.on("click","li a",function(t){t.preventDefault()}),a.on("click","li[class!=divider]",function(){var t=p(this).parent().parent().prev(),e=t.parent().prev(),a=t.val();e.val(e.children(":eq("+p(this).data("idx")+")").attr("value")),t.val(e.val()),p(this).parent().prev().trigger("focus"),e.data("idx")!=p(this).data("idx")&&("function"==typeof s.change&&s.trigger("change"),t.trigger("selection.change",[p(this).index(),e.val(),e.children(":eq("+p(this).index()+")").text()]),n.trigger("selection.change",[p(this).index(),e.val(),e.children(":eq("+p(this).index()+")").text()]))}),a.on("keydown",function(t){var e=p("a",p(this)).length,a=0;if(void 0!==p(this).data("selected")&&(a=p(this).data("selected")),38==t.which||40==t.which)t.preventDefault(),a=38==t.which?(a-1)%e:(a+1)%e,p(this).data("selected",a).find("a:eq("+a+")").trigger("focus");else if(65<=t.which&&t.which<=90){t.preventDefault();for(var n=1;n<e;n++){var s=(a+n)%e,i=p("a:eq("+s+")",p(this)).text().charCodeAt(0);if(97<=i&&(i-=32),i==t.which){a=s,p(this).data("selected",a).find("a:eq("+a+")").trigger("focus");break}}}}).on("mouseover","li",function(){p(this).parent().data("selected",p(this).index()),p("a",p(this)).trigger("focus")}),e.on("shown.bs.dropdown",function(){a.outerWidth(a.parent().parent().outerWidth()),window.setTimeout(function(){var t=l.prev().children(":selected").index();p("li:eq("+t+") a",e).trigger("focus"),a.data("selected",t)},50)}),p(this).data("makecombo",!0),p(this).hide()}}),this},p.fn.updatecombo=function(t){var e=this.first();if(!e.parent().hasClass("combo-group")||!e.parent().prev().is("select:not(visible)"))return this;var n=e.next().find("ul").empty();p.each(t,function(t,e){var a=p('<li><a href="#">'+e.text+"</a></li>");a.data("idx",t),n.append(a)});var a=e.parent().prev().empty();return p.each(t,function(t,e){a.append('<option value="'+e.value+'">'+e.text+"</option>")}),a.data("idx",-1),e.val(a.val()),this},p.fn.makeunit=function(){return this.each(function(){var a=p(this),t=a.data("units");if(null!=t&&0!=(t=t.split(";")).length){var e=t[0].split("=");a.data("unit",e[1]);var n=p('<div class="input-group-btn">');n.append('<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">'+e[0]+'&nbsp;&nbsp;<span class="caret"></span></button>');for(var s=p('<ul class="dropdown-menu pull-right">'),i=0;i<t.length;i++){var o=t[i].split("=");s.append('<li><a href="#'+o[1]+'">'+o[0]+"</a></li>")}n.append(s);var r=p('<div class="control-group input-group">');a.after(r),r.append(a),r.append(n),p("li a",s).on("click",function(t){t.preventDefault();var e=p(this).attr("href").substring(1);a.data("unit",e),a.trigger("unit.change",e),p(this).parent().parent().prev().html(p(this).text()+'&nbsp;&nbsp;<span class="caret"></span>')})}}),this},p.valHooks.input={get:function(t){if(p(t).hasClass("combo-facade"))return p(t).parent().prev().val();if(p(t).data("units")&&p(t).data("unit"))return p(t).prop("value")+p(t).data("unit");if(p(t).hasClass("reveal")&&p(t).is(":disabled")){var e=p(t).parent().next().find("[name="+p(t).attr("name")+"]:enabled");return 0==e.length&&(e=p(t).parent().prev().find("[name="+p(t).attr("name")+"]:enabled")),0==e.length?p(t).prop("value"):e.prop("value")}return p(t).prop("value")},set:function(t,e){if(p(t).hasClass("combo-facade")){var a=p(t).parent().prev(),n=a.val();a.val(e),null==a.val()&&a.val(n),p(t).prop("value",a.children("option:eq("+a.prop("selectedIndex")+")").text())}else if(p(t).data("units")&&p(t).data("unit"))if(e){for(var s="",i="",o=p(t).data("units").split(";"),r=0;r<o.length;r++){var l=o[r].split("=");if(e.substr(e.length-l[1].length)===l[1]){i=l[0],s=l[1];break}}p(t).prop("value",e.substr(0,e.length-s.length)),s&&(p(t).data("unit",s),p(t).trigger("unit.change",s),p(t).next().find("button").html(i+'&nbsp;&nbsp;<span class="caret"></span>'))}else p(t).prop("value","");else if(p(t).prop("value",e),p(t).hasClass("reveal")){var d=p(t).parent().next().find("[name="+p(t).attr("name")+"]");0==d.length&&(d=p(t).parent().prev().find("[name="+p(t).attr("name")+"]")),0<d.length&&d.prop("value",e)}return t}},p.valHooks.checkbox={get:function(t){return p(t).prop("checked")?t.value:null},set:function(t,e){return p(t).prop("checked",t.value==e),t}},p.fn.init_hint=function(){return this.each(function(){var e=p(this);e.mouseover(function(){0==e.find("span.hint").length&&e.append('<span class="hint" style="display:none;"></span>'),e.data("hintTimer")||e.data("hintTimer",window.setTimeout(function(){e.find("span.hint").show(),e.data("hintTimer",null)},500)),e.data("hideTimer")&&(window.clearTimeout(e.data("hideTimer")),e.data("hideTimer",null))}).mouseout(function(){e.data("hideTimer")||e.data("hideTimer",window.setTimeout(function(){e.find("span.hint").hide(),e.data("hideTimer",null)},500)),e.data("hintTimer")&&(window.clearTimeout(e.data("hintTimer")),e.data("hintTimer",null))}).popover({selector:"span.hint",placement:"right",trigger:"manual",content:e.data("hint")}).on("mouseover","span.hint",function(t){e.popover("show")}).on("mouseout","span.hint",function(t){e.popover("hide")})}),this},p.fn.add_required_mark=function(t){var e=t||"Required field";return this.each(function(){p(this).before('<span class="required-mark" title="'+e+'"></span>')}),this},p.fn.reveal=function(){return this.each(function(){var t,e;if(p(this).parent().hasClass("input-group")&&p(this).next().hasClass("glass-plus")&&p(this).parent().next().hasClass("input-group"))e=(t=p(this).parent()).next();else{t=p('<div class="input-group"></div>'),p(this).before(t),t.append(p(this)),t.append('<span class="input-group-addon glass-plus">&nbsp;</span>');var a=p(this).clone(!0);a.attr("type","text").attr("id",p(this).attr("id")+"-clone").prop("disabled",!0),(e=p('<div class="input-group hidden"></div>')).append(a),e.append('<span class="input-group-addon glass-minus">&nbsp;</span>'),t.after(e)}t.find(".glass-plus").on("click",function(){p(this).parent().addClass("hidden").next().removeClass("hidden").find("input").val(p(this).prev().prop("disabled",!0).val()).prop("disabled",!1)}),e.find(".glass-minus").on("click",function(){p(this).parent().addClass("hidden").prev().removeClass("hidden").find("input").val(p(this).prev().prop("disabled",!0).val()).prop("disabled",!1)})}),this},p.fn.addRangeSelect=function(s,e,i){var o=this,r=p("div.tooltip");if(p(".slider",o).remove(),"remove"==s)return r.removeClass("top bottom fade in"),o.off("click"),o.data("click_hooked",null),o;function l(t){t="function"==typeof e?e(t):t,p(".tooltip-inner",r).text(t)}0==r.length&&(r=p('<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>')).appendTo("body");var d=function(i){function a(t){var a=0,n=t.parent().height(),s=t.position().top+10,i=p(".spacer",t).height();t.siblings().each(function(){var t=p(this).position().top+10;s+i<t&&t<n&&(n=t-1);var e=p(this).position().top+10+p(".spacer",p(this)).height();e<s&&a<e&&(a=e+1)}),t.data("top",a),t.data("bottom",n)}i.on("keydown",function(t){if(46==t.keyCode){var e=i.siblings();i.remove(),e.each(function(){a(p(this))})}}),i.mousemove=function(t){t.preventDefault();var e=i.data("reverse")?-1:1,a=e*(t.pageY-i.data("mouseY"));if(i.data("height")-a<0&&(a=i.data("height")),1==e){var n=i.data("y")+a;n<i.data("top")-10&&(n=i.data("top")-10),i.css("top",n),p(".spacer",i).height(i.data("height")+i.data("y")-n)}else{var s=i.position().top+i.data("height")-a+10;s>i.data("bottom")&&(s=i.data("bottom")),p(".spacer",i).height(s-i.position().top-10)}l(i.position().top+10+(r.hasClass("bottom")?p(".spacer",i).height():0)),r.css("left",(i.outerWidth()-r.outerWidth())/2)},i.mouseup=function(t){i.siblings().each(function(){a(p(this))}),p(document).data("click-consumed",!0),p(document).off({mousemove:i.mousemove,mouseup:i.mouseup})},p(".spacer",i).on("click",function(t){t.preventDefault(),t.stopPropagation(),r.removeClass("top bottom fade in"),p(".slider",o).each(function(){20<p(this).height()?p(this).find(".upper,.lower").css("visibility","hidden"):(p(".tooltip",this).appendTo("body"),p(this).remove())}),p(this).siblings().css("visibility","visible").end().parent().css("z-index",1).siblings().css("z-index",0),a(p(this).parent()),p(this).parent().siblings().each(function(){a(p(this))})}),p(".upper,.lower",i).mousedown(function(t){i.css("z-index",1).siblings().css("z-index",0),p(this).hasClass("upper")?(i.prepend(r),l(i.position().top+10),r.removeClass("bottom").addClass("fade top in"),r.css({top:-r.outerHeight(),left:(i.outerWidth()-r.outerWidth())/2})):(i.append(r),l(i.position().top+10+p(".spacer",i).height()),r.removeClass("top").addClass("fade bottom in"),r.css({top:"auto",left:(i.outerWidth()-r.outerWidth())/2})),i.data("mouseY",t.pageY),i.data("y",i.position().top),i.data("height",p(".spacer",i).height()),i.data("reverse",p(this).hasClass("lower")),p(document).on({mousemove:i.mousemove,mouseup:i.mouseup})}),a(i),i.css("z-index",1).siblings().css("z-index",0).each(function(){a(p(this))})};return o.each(function(t){if(p(this).data("click_hooked")||(p(this).on("click",function(t){if(p(document).data("click-consumed"))return p(document).data("click-consumed",!1),void t.stopPropagation();r.removeClass("top bottom fade in"),p(".slider",o).each(function(){20<p(this).height()?p(this).find(".upper,.lower").css("visibility","hidden"):(p(".tooltip",this).appendTo("body"),p(this).remove())});var e=p('<div class="slider"><button class="upper"><span class="caret"></span></button><button class="spacer"></button><button class="lower"><span class="caret"></span></button></div>');e.css({top:t.pageY-p(this).offset().top-10,left:"0",padding:"0 2px 0 2px",width:"100%"}).find(".spacer").css({"background-color":s}),p(this).append(e),d(e),t.stopPropagation()}),p(this).data("click_hooked",!0)),i instanceof Array){var e=i[t];if(e instanceof Array)for(var a=0;a<e.length;a++)if(!(!e[a]instanceof Array||2!=e[a].length)&&parseInt(e[a][1])>parseInt(e[a][0])){var n=p('<div class="slider"><button class="upper"><span class="caret"></span></button><button class="spacer"></button><button class="lower"><span class="caret"></span></button></div>');n.css({top:parseInt(e[a][0])-10,left:0,padding:"0 2px 0 2px",width:"100%"}).find(".spacer").css({"background-color":s}).outerHeight(parseInt(e[a][1])-parseInt(e[a][0])).end().find(".upper,.lower").css("visibility","hidden"),p(this).append(n),d(n)}}}),p(document).data("dismiss-tt")||(p(document).on("click",function(){p(".tooltip").removeClass("top bottom fade in"),p(".slider:visible").each(function(){20<p(this).height()?p(this).find(".upper,.lower").css("visibility","hidden"):0<p(this).find(".upper,.lower").size()&&(p(".tooltip",this).appendTo("body"),p(this).remove())})}),p(document).data("dismiss-tt",!0)),this}}(jQuery),pcwrt={overlayTimer:null,updateTimer:null,hideOverlayTimer:null,pixel2time:function(t,e){t=e?Math.floor(1440*t/e+.6):Math.floor(t+.6);var a=Math.floor(t/60),n=t%60,s=a<12?"am":"pm";return 12<=a&&(a-=12),12==a&&(s="am"),0==a&&(a=12),a+":"+(10<=n?n:"0"+n)+" "+s},time2pixel:function(t,e){if("string"!=typeof t||!t)return null;var s=null,i=null,o=null;return t.replace(/^(\d?\d):(\d?\d) ?(am|pm)$/,function(t,e,a,n){return s=parseInt(e),i=parseInt(a),o=n,t}),null==s||isNaN(s)||null==i||isNaN(i)||null==o?null:(12==s&&(s=0),"pm"==o&&(s+=12),e?Math.floor((60*s+i)*e/1440+.6):Math.floor(60*s+i+.6))},showOverlay:function(e){pcwrt.hideOverlayTimer&&(window.clearTimeout(pcwrt.hideOverlayTimer),pcwrt.hideOverlayTimer=null),pcwrt.updateTimer||pcwrt.overlayTimer||(pcwrt.spinner=e,pcwrt.overlayTimer=window.setTimeout(function(){$("#overlay").css({display:"none",height:$(window).height()}).addClass("active").fadeTo(375,.7),e.addClass("active"),pcwrt.overlayTimer=null,pcwrt.updateTimer=window.setInterval(function(){var t=$("strong",e).html();t.match(/( \.){25}$/)?$("strong",e).html(t.replace(/( \.){25}$/," .")):$("strong",e).html(t+" .")},400)},500))},hideOverlay:function(){pcwrt.hideOverlayTimer=window.setTimeout(function(){pcwrt.updateTimer&&(window.clearInterval(pcwrt.updateTimer),pcwrt.updateTimer=null),pcwrt.overlayTimer&&(window.clearTimeout(pcwrt.overlayTimer),pcwrt.overlayTimer=null);var t=$("strong",pcwrt.spinner).html().replace(/( \.)*$/," .");$(pcwrt.spinner).removeClass("active").find("strong").html(t),$("#overlay").css({height:"1px"}).removeClass("active")},150)},updateOverlay:function(){$("#overlay").css({height:$("#overlay").hasClass("active")?$(window).height():"1px"})},fetch_data:function(t,e,a){$.ajax({url:t,data:e,type:"GET",success:function(t){"success"==t.status?a(t.data):"login"==t.status?location.reload(!0):($("#status-modal .modal-title").text(window.msgs.oops),$("#status-modal .modal-body p").text("Status: "+t.status+", message: "+t.message),$("#status-modal").modal("show"))},error:function(t,e,a){$("#status-modal .modal-title").text(window.msgs.oops),$("#status-modal .modal-body p").text(a||"Unknown error!"),$("#status-modal").modal("show")}})},submit_form:function(a,t,n,e,s,i,o){$("p.form-control-error",a).parent().removeClass("has-error").end().remove(),e=e||"application/x-www-form-urlencoded",s||(i?$("#spinner strong").text(i):o?$("#spinner strong").html(o):$("#spinner strong").text(msgs.apply_change),pcwrt.showOverlay($("#spinner"))),$.ajax({url:a.attr("action"),type:"POST",contentType:e,data:"function"==typeof t?t():t,success:function(t){if(s||pcwrt.hideOverlay(),"success"==t.status)"function"==typeof n?n(t):"object"==typeof n&&"function"==typeof n.success&&n.success(t);else if("error"==t.status)if("object"==typeof n&&"function"==typeof n.error)n.error(t);else for(name in t.message){var e=$(':input[name="'+name+'"]:visible',a);e.parent().hasClass("input-group")&&(e=e.parent()),e.parent().addClass("has-error").append('<p class="form-control-error">'+t.message[name]+"</p>")}else"fail"==t.status?($("#status-modal .modal-title").text(window.msgs.oops),$("#status-modal .modal-body p").text(t.message),$("#status-modal").modal("show"),"object"==typeof n&&"function"==typeof n.fail&&n.fail(t)):"login"==t.status?location.reload(!0):($("#status-modal .modal-title").text(window.msgs.oops),$("#status-modal .modal-body p").text("Status: "+t.status+", message: "+t.message),$("#status-modal").modal("show"))},error:function(t,e,a){s||pcwrt.hideOverlay(),$("#status-modal .modal-title").text(window.msgs.oops),$("#status-modal .modal-body p").text(a||"Unknown error!"),$("#status-modal").modal("show"),"object"==typeof n&&"function"==typeof n.fail&&n.fail(r)}})},apply_changes:function(t,e){$("#spinner strong").text(msgs.apply_change),pcwrt.showOverlay($("#spinner")),Array.isArray(t)&&(t=t.join(" ")),$("#apply-form [name=config]").val(t),$form=$("#apply-form"),$.ajax({url:$form.attr("action"),type:"POST",data:$form.serialize(),success:function(t){pcwrt.hideOverlay(),$("#status-modal .modal-title").text(window.msgs.success),$("#status-modal .modal-body p").text(window.msgs.apply_success),$("#status-modal").modal("show"),"function"==typeof e&&e(t)},error:function(t,e,a){pcwrt.hideOverlay(),$("#status-modal .modal-title").text(window.msgs.oops),$("#status-modal .modal-body p").text("Failed: "+a),$("#status-modal").modal("show")}})},confirm_action:function(t,e,a,n){$("#confirm-modal").data("confirmed",!1).find(".modal-title").text(t).end().find(".modal-body p").text(e).end().find(".btn-success").off("click").on("click",function(t){$("#confirm-modal").data("confirmed",!0).modal("hide")}).end().off("hidden.bs.modal").on("hidden.bs.modal",function(t){$(this).data("confirmed")?a():"function"==typeof n&&n()}).modal("show")},confirm_submit:function(t,e,a,n,s,i,o){t.preventDefault(),$("#confirm-modal").find(".modal-title").text(a).end().find(".modal-body p").text(n).end().find(".btn-success").off("click").on("click",function(t){t.preventDefault(),$("#confirm-modal").modal("hide"),$("#spinner strong").html(s),pcwrt.showOverlay($("#spinner")),$.ajax({url:e.data("url"),type:"POST",data:i,success:function(t){o(t)},error:function(t,e,a){pcwrt.hideOverlay(),$("#status-modal .modal-title").text(window.msgs.oops),$("#status-modal .modal-body p").text(a||"Unknown error!"),$("#status-modal").modal("show")}})}).end().modal("show")},show_message:function(t,e,a){$("#status-modal .modal-title").text(t),$("#status-modal .modal-body p").text(e),$("#status-modal").off("hidden.bs.modal"),"function"==typeof a&&$("#status-modal").on("hidden.bs.modal",function(){a()}),$("#status-modal").modal("show")},clear_form_errors:function(t){t.find(".form-group").removeClass("has-error").end().find(".form-control-error").remove()},populate_forms:function(t){var e=t||window.fv;for(k in e)"radio"==$('[name="'+k+'"]').attr("type")?$('[name="'+k+'"]').each(function(){if($(this).val()==e[k])return $(this).prop("checked",!0),!1}):$('[name="'+k+'"]').val(e[k])},is_empty:function(t){return/^\s*$/.test(t)},is_number:function(t){return/^\d+/.test(t)},is_valid_macaddr:function(t){return/^([0-9A-F]{2}:){5}([0-9A-F]{2})$/i.test(t)},is_valid_ipaddr:function(t){return/^((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t)},is_valid_hostname:function(t){return t&&0<t.length&&t.length<254&&(/^[a-zA-Z_]+$/.test(t)||/^[a-zA-Z0-9_][a-zA-Z0-9_\-\.]*[a-zA-Z0-9]$/.test(t)&&/[^0-9\.]/.test(t))},is_valid_port:function(t){return/^\d+$/.test(t)&&0<parseInt(t)&&parseInt(t)<=65535},is_valid_port_range:function(t){return!!/^\d+-\d+$/.test(t)&&(ports=t.split("-"),!(!this.is_valid_port(ports[0])||!this.is_valid_port(ports[1])||parseInt(ports[0])>=parseInt(ports[1])))},is_same_subnet:function(t,e,a){if(e==a)return!1;var n=t.split(".").map(function(t){return parseInt(t)}),s=e.split(".").map(function(t){return parseInt(t)}),i=a.split(".").map(function(t){return parseInt(t)});return(n[0]&s[0])==(n[0]&i[0])&&(n[1]&s[1])==(n[1]&i[1])&&(n[2]&s[2])==(n[2]&i[2])&&(n[3]&s[3])==(n[3]&i[3])}},$(window).on("resize",pcwrt.updateOverlay),$("#reboot").on("click",function(t){pcwrt.confirm_submit(t,$(this),msgs.reboot_title,msgs.reboot_message,msgs.rebooting,"",function(t){$('<iframe src="'+t.reload_url+'"></iframe>').appendTo("#reloader")})}),$("#pause").data("click",0).on("click",function(t){t.preventDefault();var e=$(this),a=e.data("click");if(1==++a){var n=setTimeout(function(){request_pause(e.data("url"),[{name:"pause",value:"1"}]),e.data("click",0)},300);e.data("click",a),e.data("timer",n)}else clearTimeout(e.data("timer")),e.data("click",0),request_pause($(this).data("url"),[{name:"pause",value:"2"}])}).on("dblclick",function(t){t.preventDefault()}),$("#internet-pause-alert button").on("click",function(t){request_pause($("#pause").data("url"),[{name:"pause",value:"0"}])}),$(function(){$("#pause").is(":visible")&&(get_pause_state(),window.setInterval(function(){get_pause_state()},3e5))}),"undefined"==typeof atob&&(atob=function(t){var e={},a,n=0,s,i,o=0,r,l="",d=String.fromCharCode,p=t.length,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(a=0;a<64;a++)e[u.charAt(a)]=a;for(i=0;i<p;i++){n=(n<<6)+(s=e[t.charAt(i)]),o+=6;while(8<=o)((r=n>>>(o-=8)&255)||i<p-2)&&(l+=d(r))}return l});