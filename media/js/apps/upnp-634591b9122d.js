function display_disabled(){$("#upnp-status").text(msgs.disabled).parent().removeClass("alert-success").addClass("alert-danger"),$("#enable-upnp").removeClass("hidden"),$("#disable-upnp").addClass("hidden"),$("#upnp-settings").slideUp()}function disable_upnp(e){pcwrt.submit_form(e,{disabled:"1"},function(e){display_disabled(),pcwrt.apply_changes(e.apply)})}$(function(){pcwrt.populate_forms(),$.each(fv.enabled_network,function(e,a){var n=$("[name=network]:first").parent().parent();if(0<e){var s=n.clone();n.parent().append(s),n=s}var l=$("label",n).contents();l[l.length-1].nodeValue=a.text,$("input",n).prop("value",a.name),$("input",n).prop("checked",a.enabled)}),"1"==fv.disabled?($("#enable-disable").addClass("alert-danger").removeClass("alert-success"),$("#upnp-status").text(window.msgs.disabled),$("#enable-upnp").removeClass("hidden")):($("#enable-disable").removeClass("alert-danger").addClass("alert-success"),$("#upnp-status").text(window.msgs.enabled),$("#disable-upnp").removeClass("hidden"),$("#upnp-settings").slideDown()),$("#enable-upnp").on("click",function(e){e.preventDefault(),$("#enable-disable").addClass("hidden"),$("#enable-alert").removeClass("hidden"),$("#upnp-settings").slideDown()}),$("#disable-upnp").on("click",function(e){var a;e.preventDefault(),disable_upnp($(this).parents("form"))}),$('#upnp-update button[type="submit"]').on("click",function(e){e.preventDefault();var n=!1;$("[name=network]").each(function(e,a){if($(a).prop("checked"))return!(n=!0)});var a=$(this).parents("form");n?pcwrt.submit_form(a,a.serialize(),function(e){$("#upnp-status").text(msgs.enabled).parent().removeClass("alert-danger").addClass("alert-success"),$("#disable-upnp").removeClass("hidden"),$("#enable-upnp").addClass("hidden"),$("#enable-disable").removeClass("hidden"),$("#enable-alert").addClass("hidden"),pcwrt.apply_changes(e.apply)}):pcwrt.confirm_action("Disable UPnP?","You have not selected an internal network to enable UPnP, do you want to disable UPnP instead?",function(){$("#enable-disable").removeClass("hidden"),$("#enable-alert").addClass("hidden"),"1"==fv.disabled?display_disabled():disable_upnp(a)})})});