!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(l){var n=/\+/g;function p(e){return v.raw?e:encodeURIComponent(e)}function m(e){return v.raw?e:decodeURIComponent(e)}function h(e){return p(v.json?JSON.stringify(e):String(e))}function t(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(n," ")),v.json?JSON.parse(e):e}catch(e){}}function g(e,n){var r=v.raw?e:t(e);return l.isFunction(n)?n(r):r}var v=l.cookie=function(e,n,r){if(1<arguments.length&&!l.isFunction(n)){if("number"==typeof(r=l.extend({},v.defaults,r)).expires){var t=r.expires,o=r.expires=new Date;o.setMilliseconds(o.getMilliseconds()+864e5*t)}return document.cookie=[p(e),"=",h(n),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}for(var i=e?void 0:{},a=document.cookie?document.cookie.split("; "):[],s=0,c=a.length;s<c;s++){var u=a[s].split("="),d=m(u.shift()),f=u.join("=");if(e===d){i=g(f,n);break}e||void 0===(f=g(f))||(i[d]=f)}return i};v.defaults={},l.removeCookie=function(e,n){return l.cookie(e,"",l.extend({},n,{expires:-1})),!l.cookie(e)}}),function(e){"use strict";function t(e){var n="0123456789abcdef",r="",t,o;for(o=0;o<e.length;o+=1)t=e.charCodeAt(o),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function o(e){for(var n=e.toString(),r="",t=0;t<n.length;t+=2)r+=String.fromCharCode(parseInt(n.substr(t,2),16));return r}function i(e){var n="0123456789abcdef".split("");e=e||Math.floor(Math.random()*n.length);for(var r="",t=0;t<e;t++)r+=n[Math.floor(Math.random()*n.length)];return r}function a(e,n,r){var t="",o=0,i=0;while((i+1)*r<=n.length){for(o=0;o<r;o++)t+=String.fromCharCode(e.charCodeAt(o)^n.charCodeAt(i*r+o));i++}return t}function n(e){47<e.length&&(e=e.substr(0,47));var n=String.fromCharCode(e.length)+e;n.length<48&&(n+=o(i(2*(48-n.length))));var r=i(32);return r+t(n=a(o(r),n,16))}function r(e){if(128!=e.length)return e;var n=a(o(e.substr(0,32)),o(e.substr(32,96)),16);return n.substr(1,n.charCodeAt(0))}e.encrypt=n,e.decrypt=r}(this),$("#lost-password").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("#password-modal").modal("show")}),$("#password-modal .btn-success").on("click",function(e){e.preventDefault();var n=$(this).parents("form");pcwrt.submit_form(n,n.serialize(),{success:function(e){$("#password-modal").modal("hide"),pcwrt.show_message(e.title?e.title:window.msgs.success,e.message)},fail:function(){$("#password-modal").modal("hide")}})}),$(function(){null!=$.cookie("token")&&0<$.cookie("token").length?($("input[name=password]").val(decrypt($.cookie("token"))),$("[name=remember_me]").prop("checked",!0)):$("[name=remember_me]").prop("checked",!1),$("input[name=password]").trigger("focus"),$("form:first").on("submit",function(e){$("[name=remember_me]").prop("checked")?$("[name=token]").val(encrypt($("[name=password]").val())):$("[name=token]").val(null)})});